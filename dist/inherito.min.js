'use strict';

var inHerito = (function () {

	'use strict';

	var

	/** 
  * @private 
  * Log object if object has debug set to true
 */
	logObject = function logObject(instance) {
		Object.defineProperty(instance.props, 'debug', { writable: false, enumerable: false });
		console.dir(instance.props);
	},
	   

	/** 
  * @private 
  * Merge parent's props into instance if indicated
 */
	inherit = function inherit(instance, superProps) {
		// Internal calls are inaccessible
		Object.defineProperty(instance.props, 'inherit', { writable: false, enumerable: false });
		if (instance.props.inherit === true) {
			return Object.assign(instance.props, superProps.props);
		} else {
			var mixins = instance.props.inherit;
			mixins.map(function (currentValue) {
				return instance.props[currentValue] = superProps.props[currentValue];
			});
		}
	},
	   

	/** 
  * @private
  * Render object to DOM if specified in object creation
  * Prototype, do not use for production yet
 */
	render = function render(instance) {
		if (instance.props.view) {
			var view = instance.props.view;
			view.template.src = view.imageUrl;
			view.parent.querySelector(view.context).appendChild(view.template);
		} else {
			console.error('instance does not have a view');
		}
	},
	   

	/**
  * @public
  * Create object instance and log or render if true
 */
	createObject = function createObject() {
		var instance = Object.create(this),
		    superProps = this;

		// set only the new properties

		for (var _len = arguments.length, options = Array(_len), _key = 0; _key < _len; _key++) {
			options[_key] = arguments[_key];
		}

		options.map(function (currentValue) {
			instance.props = currentValue;
		});

		// options if provided
		instance.props['view'] ? render(instance) : false;
		instance.props['inherit'] ? inherit(instance, superProps) : false;
		instance.props['debug'] ? logObject(instance) : false;

		return instance;
	};

	// public api
	return {
		create: createObject
	};
})();
//# sourceMappingURL=inherito.min.js.map
